<ion-app>
    <ion-split-pane contentId="main" when="md">
      <ion-menu contentId="main" type="overlay">
        <ion-header>
          <ion-toolbar>
            <ion-title class="brand">
              <img class="brand-logo" [src]="branding.logoSvg" alt="DG Mascotas" />
              <span>{{ branding.appName }}</span>
            </ion-title>          
          </ion-toolbar>
        </ion-header>
  
        <ion-content>
          <div class="userbox" *ngIf="user">
            <div class="avatar">{{ (user?.nombre || 'U')[0] }}</div>
            <div class="meta">
              <div class="name">{{ user?.nombre || user?.email }}</div>
              <div class="role">{{ user?.rol }}</div>
            </div>
          </div>
  
          <ion-list lines="none">
            <ion-item routerLink="/dashboard" routerDirection="root">
              <ion-icon name="grid-outline" slot="start"></ion-icon>
              <ion-label>Dashboard</ion-label>
            </ion-item>
  
            <ion-item *ngIf="canSee(['admin','veterinario'])" routerLink="/animales" routerDirection="root">
              <ion-icon name="paw-outline" slot="start"></ion-icon>
              <ion-label>Animales</ion-label>
            </ion-item>
  
            <ion-item *ngIf="canSee(['cliente'])" routerLink="/mis-animales" routerDirection="root">
              <ion-icon name="heart-outline" slot="start"></ion-icon>
              <ion-label>Mis mascotas</ion-label>
            </ion-item>
  
            <ion-item *ngIf="canSee(['admin','recepcionista','veterinario'])" routerLink="/citas-clientes" routerDirection="root">
              <ion-icon name="calendar-outline" slot="start"></ion-icon>
              <ion-label>Citas</ion-label>
            </ion-item>
  
            <ion-item *ngIf="canSee(['admin','veterinario','recepcionista'])" routerLink="/crear-usuario" routerDirection="root">
              <ion-icon name="person-add-outline" slot="start"></ion-icon>
              <ion-label>Crear usuario</ion-label>
            </ion-item>
  
            <ion-item button (click)="logout()">
              <ion-icon name="log-out-outline" slot="start"></ion-icon>
              <ion-label>Cerrar sesi√≥n</ion-label>
            </ion-item>
          </ion-list>
        </ion-content>
      </ion-menu>
  
      <ion-router-outlet id="main"></ion-router-outlet>
    </ion-split-pane>
  </ion-app>
  